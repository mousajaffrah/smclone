node {
    // Run inside a Docker container with Node.js
    docker.image('node:18').inside {

        stage('Install') {
            sh 'npm install'
        }

        stage('Test') {
            sh 'npm test || echo "No tests configured"'
        }

        stage('Run App') {
            sh 'node index.js'  // change to your main file if needed
        }
    }
}
